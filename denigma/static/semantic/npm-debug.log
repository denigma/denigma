0 info it worked if it ends with ok
1 verbose cli [ '/usr/local/bin/node',
1 verbose cli   '/usr/local/bin/npm',
1 verbose cli   'install',
1 verbose cli   '-g',
1 verbose cli   'batman' ]
2 info using npm@1.1.69
3 info using node@v0.8.16
4 verbose read json /usr/local/lib/package.json
5 verbose read json /usr/local/lib/package.json
6 verbose cache add [ 'batman', null ]
7 silly cache add name=undefined spec="batman" args=["batman",null]
8 verbose parsed url { pathname: 'batman', path: 'batman', href: 'batman' }
9 silly lockFile 5c6d9edc-batman batman
10 verbose lock batman /home/hevok/.npm/5c6d9edc-batman.lock
11 silly lockFile 5c6d9edc-batman batman
12 verbose addNamed [ 'batman', '' ]
13 verbose addNamed [ null, '' ]
14 silly lockFile 627c5bee-batman batman@
15 verbose lock batman@ /home/hevok/.npm/627c5bee-batman.lock
16 silly addNameRange { name: 'batman', range: '', hasData: false }
17 verbose url raw batman
18 verbose url resolving [ 'https://registry.npmjs.org/', './batman' ]
19 verbose url resolved https://registry.npmjs.org/batman
20 info trying registry request attempt 1 at 19:56:08
21 verbose etag "UMICGMKJMT50SM3PHX1E8FY2"
22 http GET https://registry.npmjs.org/batman
23 http 304 https://registry.npmjs.org/batman
24 silly registry.get cb [ 304,
24 silly registry.get   { server: 'CouchDB/1.3.0 (Erlang OTP/R15B03)',
24 silly registry.get     etag: '"UMICGMKJMT50SM3PHX1E8FY2"',
24 silly registry.get     date: 'Mon, 17 Jun 2013 17:56:09 GMT',
24 silly registry.get     'content-length': '0' } ]
25 verbose etag batman from cache
26 silly addNameRange number 2 { name: 'batman', range: '', hasData: true }
27 silly addNameRange versions [ 'batman',
27 silly addNameRange   [ '0.8.0',
27 silly addNameRange     '0.5.0',
27 silly addNameRange     '0.5.1',
27 silly addNameRange     '0.6.0',
27 silly addNameRange     '0.6.1',
27 silly addNameRange     '0.7.0',
27 silly addNameRange     '0.7.5',
27 silly addNameRange     '0.9.0',
27 silly addNameRange     '0.10.0',
27 silly addNameRange     '0.11.0',
27 silly addNameRange     '0.11.1',
27 silly addNameRange     '0.11.2',
27 silly addNameRange     '0.12.0',
27 silly addNameRange     '0.13.0',
27 silly addNameRange     '0.13.1',
27 silly addNameRange     '0.14.0',
27 silly addNameRange     '0.14.1' ] ]
28 verbose addNamed [ 'batman', '0.14.1' ]
29 verbose addNamed [ '0.14.1', '0.14.1' ]
30 silly lockFile 9724ef93-batman-0-14-1 batman@0.14.1
31 verbose lock batman@0.14.1 /home/hevok/.npm/9724ef93-batman-0-14-1.lock
32 verbose read json /home/hevok/.npm/batman/0.14.1/package/package.json
33 silly lockFile 9724ef93-batman-0-14-1 batman@0.14.1
34 silly lockFile 627c5bee-batman batman@
35 silly resolved [ { name: 'batman',
35 silly resolved     description: 'A client-side framework that makes JavaScript apps as fun as Rails.',
35 silly resolved     author:
35 silly resolved      { name: 'Nick Small',
35 silly resolved        email: 'nick@shopify.com',
35 silly resolved        url: 'http://github.com/nickjs' },
35 silly resolved     contributors: [ [Object], [Object], [Object] ],
35 silly resolved     version: '0.14.1',
35 silly resolved     homepage: 'http://batmanjs.org',
35 silly resolved     repository: { type: 'git', url: 'git://github.com/Shopify/batman.git' },
35 silly resolved     main: './lib/dist/batman.node.js',
35 silly resolved     bin: { batman: './tools/batman' },
35 silly resolved     scripts:
35 silly resolved      { test: './node_modules/.bin/cake test',
35 silly resolved        build: './node_modules/.bin/cake build' },
35 silly resolved     dependencies: { connect: '~>1.8.5 || ~>2.2.1', 'coffee-script': '~>1.3.2' },
35 silly resolved     devDependencies:
35 silly resolved      { docco: '~>0.3.0',
35 silly resolved        glob: '~>3.0.1',
35 silly resolved        q: '~>0.8.0',
35 silly resolved        muffin: '~>0.7.0',
35 silly resolved        'uglify-js': '1.2.5',
35 silly resolved        temp: '~>0.4.0',
35 silly resolved        qqunit: '~>0.5.0',
35 silly resolved        percolate: '~>0.4.2',
35 silly resolved        'connect-assets': '~>2.2.0',
35 silly resolved        liquor: '~>0.0.0' },
35 silly resolved     engines: { node: '~>0.6.0 || ~>0.8.0 || ~>0.9.0' },
35 silly resolved     optionalDependencies: {},
35 silly resolved     readme: '# batman.js\n\n[batman.js](http://batmanjs.org/) is a framework for building rich single-page browser applications. It is written in [CoffeeScript](http://jashkenas.github.com/coffee-script/) and its API is developed with CoffeeScript in mind, but of course you can use plain old JavaScript too.\n\n#### It\'s got:\n\n* a stateful MVC architecture\n* a powerful binding system\n* routable controller actions\n* pure HTML views\n* toolchain support built on [node.js](http://nodejs.org) and [cake](http://jashkenas.github.com/coffee-script/#cake)\n\nThe APIs are heavily inspired by [Rails](http://rubyonrails.org/) and designed to make Rails devs feel right at home.\n\nWe\'re targeting Chrome, Safari 4+, Firefox 3+, and IE 7+ for compatibility, although some of those require you to include [es5shim](https://github.com/kriskowal/es5-shim).\n\n#### Here\'s some code:\n\n```coffeescript\nclass Shopify extends Batman.App\n  @root \'products#index\'\n\n  @resources \'products\'\n\nclass Shopify.Product extends Batman.Model\n  @persist Batman.RestStorage\n\nclass Shopify.ProductsController extends Batman.Controller\n  index: ->\n\n  show: (params) ->\n    Shopify.Product.find params.id, (err, product) =>\n      @set(\'product\', product)\n```\n\n#### views/products/index.html\n\n```html\n<ul id="products">\n  <li data-foreach-product="Product.all" data-mixin="animation">\n    <a data-route="product" data-bind="product.name">name will go here</a>\n  </li>\n\n  <li><span data-bind="\'product\' | pluralize products.length"></span></li>\n</ul>\n```\n\n## Installation\n\nIf you haven\'t already, you\'ll need to install [node.js](http://nodejs.org) (0.6.x and 0.8.x supported) and [npm](http://npmjs.org/). Then:\n\n```bash\nnpm install -g batman\n```\n\nGenerate a new batman.js app somewhere, called my_app:\n\n```bash\ncd ~/code\nbatman new my_app\n```\n\nFire it up:\n\n```bash\ncd my_app\nbatman server # (or just "batman s")\n```\n\nNow visit [http://localhost:1047](http://localhost:1047) and start playing around!\n\n## The Basics\n\nMost of the classes you work with in your app code will descend from `Batman.Object`, which gives you some nice things that are used extensively by the rest of the system.\n\n### Events\n\nEvents in batman.js are pretty simple. Handling an event is like subscribing to a named channel on a particular object, and firing an event is like publishing an argument list (which might be empty) to all subscribers of that channel.\n\n```coffeescript\nclass BatBelt.Gadget extends Batman.Object\n  constructor: -> @usesRemaining = 5\n  use: (howManyTimes) ->\n    if howManyTimes <= @usesRemaining\n      @usesRemaining -= howManyTimes\n      @fire(\'use\', howManyTimes)\n```\n\nYou can use the `on` method to register handler functions which then get called whenever `fire` is called for the specified event name. The handlers get whichever extra arguments were passed to `fire` after the event name itself:\n\n```coffeescript\ngadget.on \'use\', (howManyTimes) ->\n  console.log "gadget was used #{howManyTimes} times!"\ngadget.use(2)\n# console output: "gadget was used 2 times!"\n```\n\n### Properties\n\nThe `observe` function is used to observe changes to properties. This forms the basis of the binding system. Here\'s a simple example:\n\n```coffeescript\ngadget.observe \'name\', (newVal, oldVal) ->\n  console.log "name changed from #{oldVal} to #{newVal}!"\ngadget.set \'name\', \'Batarang\'\n# console output: "name changed from undefined to Batarang!"\n```\n\nWhen you `observe` a property, you are really just handling its "change" event, which happens to get fired with the new and old values.\n\nOf course you can also `get` properties to return their values, and if you want to remove them completely then you can `unset` them:\n\n```coffeescript\ngadget.get \'name\'\n# returns: \'Batarang\'\ngadget.unset \'name\'\n# console output: "name changed from Batarang to undefined!"\n```\n\nBy default, these properties are stored like plain old JavaScript properties: that is, `gadget.name` would return "Batarang" just like you\'d expect. But if you set the gadget\'s name with `gadget.name = \'Shark Spray\'`, then the observer function you set on `gadget` will not fire. So when you\'re working with batman.js properties, use `get`/`set`/`unset` to read/write/delete them.\n\n\n### Custom Accessors\n\nWhat\'s the point of using `gadget.get \'name\'` instead of just `gadget.name`? Well, batman.js properties don\'t always correspond with vanilla JS properties. Let\'s write a `Box` class with a custom getter for its volume:\n\n```coffeescript\nclass Box extends Batman.Object\n  constructor: (@length, @width, @height) ->\n  @accessor \'volume\',\n    get: (key) -> @get(\'length\') * @get(\'width\') * @get(\'height\')\n\nbox = new Box(16,16,12)\nbox.get \'volume\'\n# returns 3072\n```\n\nThe really cool thing about this is that, because we used `@get` to access the component properties of `volume`, batman.js can keep track of those dependencies and let us observe the `volume` directly:\n\n```coffeescript\nbox.observe \'volume\', (newVal, oldVal) ->\n  console.log "volume changed from #{oldVal} to #{newVal}!"\nbox.set \'height\', 6\n# console output: "volume changed from 3072 to 1536!"\n```\n\nThe box\'s `volume` is a read-only attribute here, because we only provided a getter in the accessor we defined. Here\'s a `Person` class with a (rather naive) read-write accessor for their name:\n\n```coffeescript\nclass Person extends Batman.Object\n  constructor: (name) -> @set \'name\', name\n  @accessor \'name\',\n    get: (key) -> [@get(\'firstName\'), @get(\'lastName\')].join(\' \')\n    set: (key, val) ->\n      [first, last] = val.split(\' \')\n      @set \'firstName\', first\n      @set \'lastName\', last\n    unset: (key) ->\n      @unset \'firstName\'\n      @unset \'lastName\'\n```\n\n### Keypaths\n\nIf you want to get at properties of properties, use keypaths:\n\n```coffeescript\nemployee.get \'team.manager.name\'\n```\n\nThis does what you expect and is pretty much the same as `employee.get(\'team\').get(\'manager\').get(\'name\')`. If you want to observe a deep keypath for changes, go ahead:\n\n```coffeescript\nemployee.observe \'team.manager.name\', (newVal, oldVal) ->\n  console.log "you now answer to #{newVal || \'nobody\'}!"\nmanager = employee.get \'team.manager\'\nmanager.set \'name\', \'Bill\'\n# console output: "you now answer to Bill!"\n```\n\nIf any component of the keypath is set to something that would change the overall value, then observers will fire:\n\n```coffeescript\nemployee.set \'team\', larrysTeam\n# console output: "you now answer to Larry!"\nemployee.team.unset \'manager\'\n# console output: "you now answer to nobody!"\nemployee.set \'team\', jessicasTeam\n# console output: "you now answer to Jessica!"\n```\n\nbatman.js\'s dependency tracking system makes sure that no matter how weird your object graph gets, your observers will fire exactly when they should.\n\n## Architecture\n\nThe MVC architecture of batman.js fits together like this:\n\n* Controllers are persistent objects which render the views and give them mediated access to the model layer.\n* Views are written in pure HTML, and use `data-*` attributes to create bindings with model data and event handlers exposed by the controllers.\n* Models have validations, lifecycle events, a built-in identity map, and can use arbitrary storage backends (`Batman.LocalStorage`, `Batman.RestStorage`, and `Batman.RailsStorage` are included).\n\nA batman.js application is served up in one page load, followed by asynchronous requests for various resources as the user interacts with the app. Navigation within the app uses [pushState](https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history#Adding_and_modifying_history_entries) where supported, otherwise falling back to [hash-bang fragment identifers](http://www.w3.org/QA/2011/05/hash_uris.html).\n\n\n### The App Class\n\nSitting in front of everything else is a subclass of `Batman.App` which represents your application as a whole and acts as a namespace for your other app classes. The app class never gets instantiated; your main interactions with it are using macros in its class definition, and calling `run()` on it when it\'s time to fire up your app.\n\nHere\'s a simple app class:\n\n```coffeescript\nclass BatBelt extends Batman.App\n  @root \'app#index\'\n  @route \'faq/:questionID\', \'app#faq\'\n  @resources \'gadgets\'\n```\n\nThe calls to `@controller` and `@model` load external app classes with XHRs. For the controllers, this ends up fetching `/controllers/app_controller.coffee` and `/controllers/gadgets_controller.coffee`. The gadget model gets loaded from `/models/gadget.coffee`.\n\n#### Routes\n\nRoutes are defined in a few different ways.\n\n`@route` takes two strings, one representing a path pattern and the other representing a controller action. In the above example, `\'faq/:questionID\'` matches any path starting with "/faq/" and having one other segment. That segment is then passed as a named param to the controller action function specified by the second string argument.\n\nFor the FAQ route, `\'app#faq\'` specifies the `faq` function on `BatBelt.AppController`, which should take a `params` argument and do something sensible with `params.questionID`.\n\n`@root \'app#index\'` is just a shorthand for `@route \'/\', \'app#index\'`.\n\nYou can also mark a segment of your route as optional, allowing URLs to match with or without those optional segments. Eg. `@route \'calendar(/:type(/:date))\', calendar#index` will match all of the following URLs:\n\n```\n/calendar\n/calendar/y\n/calendar/m/2012-11\n```\n\nWhen the segments are missing, your controller action is handed an `undefined` value for that param.\n\nThe `@resources` macro takes a resource name which should ideally be the underscored-pluralized name of one of your models. It sets up three routes, as if you\'d used the `@route` macro like so:\n\n```coffeescript\n@route \'gadgets\', \'gadgets#index\'\n@route \'gadgets/new\', \'gadgets#new\'\n@route \'gadgets/:id\', \'gadgets#show\'\n@route \'gadgets/:id/edit\', \'gadgets#edit\'\n```\n\n`@resources` can also take a list of labels to set up routing for multiple models at once:\n\n```coffeescript\n@resources \'stores\', \'products\', \'customers\'\n```\n\nIn addition to setting up these routes, the call to `@resources` keeps track of the fact that the `Gadget` model can be accessed in these ways. This lets you load these routes in your controllers or views by using model instances and classes on their own:\n\n```coffeescript\nBatBelt.Gadget.find 1, (err, gadget) =>\n  @redirect gadget unless err? # redirects to "/gadgets/1"\n```\nor\n\n```coffeescript\n@redirect BatBelt.Gadget # redirects to "/gadgets"\n```\n\n### Controllers\n\nbatman.js controllers are singleton classes with one or more instance methods that can serve as routable actions. Because they\'re singletons, instance variables persist as long as the app is running.\n\n```coffeescript\nclass BatBelt.AppController extends Batman.Controller\n  index: ->\n\n  faq: (params) ->\n    @set(\'question\', @get(\'questions\').get(params.questionID)\n```\n\nNow when you navigate to `/#!/faq/what-is-art`, the dispatcher runs this `faq` action with `{questionID: "what-is-art"}`. It also makes an implicit call to `@render`, which by default will look for a view at `/views/app/faq.html`. The view is rendered within the main content container of the page, which is designated by setting `data-yield="main"` on some tag in the layout\'s HTML. You can prevent this implicit rendering by calling `@render false` in your action.\n\nControllers are also a fine place to put event handlers used by your views. Here\'s one that uses [jQuery](http://jquery.com/) to toggle a CSS class on a button:\n\n```coffeescript\nclass MyApp.BigRedButtonController extends Batman.Controller\n  index: ->\n\n  buttonWasClicked: (node, event) ->\n    $(node).toggleClass(\'activated\')\n```\n\nIf you want to redirect to some route, you can use `@redirect`:\n\n```coffeescript\nbuttonWasClicked: (node, event) ->\n  $(node).toggleClass(\'activated\')\n  @redirect \'/apocalypse/\'\n```\n\n### Views\n\nYou write views in plain HTML. These aren\'t templates in the usual sense: the HTML is rendered in the page as-is, and you use `data-*` attributes to specify how different parts of the view bind to your app\'s data. Here\'s a very small view which displays a user\'s name and avatar:\n\n```html\n<div class="user">\n  <img data-bind-src="user.avatarURL" />\n  <p data-bind="user.name"></p>\n</div>\n```\n\nThe `data-bind` attribute on the `<p>` tag sets up a binding between the user\'s `name` property and the content of the tag. The `data-bind-src` attribute on the `<img>` tag binds the user\'s `avatarURL` property to the `src` attribute of the tag. You can do the same thing for arbitrary attribute names, so for example `data-bind-href` would bind to the `href` attribute.\n\nbatman.js uses a bunch of these data attributes for different things:\n\n#### Binding properties\n\n* `data-bind="foo.bar"`: for most tags, this defines a one-way binding with the contents of the node: when the given property `foo.bar` changes, the contents of the node are set to that value. When `data-bind` is set on a form input tag, a _two-way_ binding is defined with the _value_ of the node, such that any changes from the user will update the property in realtime.\n\n* `data-bind-foo="bar.baz"`: defines a one-way binding from the given property `bar.baz` to any attribute `foo` on the node.\n\n* `data-foreach-bar="foo.bars"`: used to render a collection of zero or more items. If the collection descends from `Batman.Set`, then the DOM will be updated when items are added or removed.\n\n#### Handling DOM events\n\n* `data-event-click="foo.bar"`: when this node is clicked, the function specified by the keypath `foo.bar` is called with the node object as the first argument, and the click event as the second argument.\n\n* `data-event-change="foo.bar"`: like `data-event-click`, but fires on change events.\n\n* `data-event-submit="foo.bar"`: like `data-event-click`, but fires either when a form is submitted (in the case of `<form>` nodes) or when a user hits the enter key when an `<input>` or `<textarea>` has focus.\n\n#### Managing contexts\n\n* `data-context="foo.bar"`: pushes a new context onto the context stack for children of this node. If the context is `foo.bar`, then children of this node may access properties on `foo.bar` directly, as if they were properties of the controller.\n\n#### Rendering Views\n\n* `data-yield="identifier"`: used in your layout to specify the locations that other views get rendered into when they are rendered. By default, a controller action renders each whole view into whichever node is set up to yield `"main"`. If you want some content in a view to be rendered into a different `data-yield` node, you can use `data-contentfor`.\n\n* `data-contentfor="identifier"`: when the view is rendered into your layout, the contents of this node will be rendered into whichever node has `data-yield="identifier"`. For example, if your layout has `"main"` and `"sidebar"` yields, then you may put a `data-contentfor="sidebar"` node in a view and it will be rendered in the sidebar instead of the main content area. If multiple `data-contentfor` nodes with the same identifier are present in a view, their contents will be concatenated in the corresponding `data-yield` node.\n\n* `data-partial="shared/sidebar"`: renders the view at the path `/views/shared/sidebar.html` within this node. Note that `/views/` is prepended.\n\n* `data-route="\'/some/path\'"` or `data-route="some.model"` or `data-route="{\'controller\': \'products\', \'action\': \'index\'}"`: loads a route when this node is clicked. The route can either be specified by a path beginning with a slash "/", or by a property leading to either a model instance (resulting in a resource\'s "show" action) or a model class (for the resource\'s "index" action).\n\n\n### Models\n\nbatman.js models:\n\n* can persist to various storage backends\n* only serialize a defined subset of their properties as JSON\n* use a state machine to expose lifecycle events\n* can validate with synchronous or asynchronous operations\n\n#### Attributes\n\nA model object may have arbitrary properties set on it, just like any JS object. Only some of those properties are serialized and persisted to its storage backends, however. You define persisted attributes on a model with the `encode` macro:\n\n```coffeescript\n  class Article extends Batman.Model\n    @encode \'body_html\', \'title\', \'author\', \'summary_html\', \'blog_id\', \'id\', \'user_id\'\n    @encode \'created_at\', \'updated_at\', \'published_at\', Batman.Encoders.railsDate\n    @encode \'tags\',\n      encode: (tagSet) -> tagSet.toArray().join(\', \')\n      decode: (tagString) -> new Batman.Set(tagString.split(\', \')...)\n```\n\nGiven one or more strings as arguments, `@encode` will register these properties as persisted attributes of the model, to be serialized in the model\'s `toJSON()` output and extracted in its `fromJSON()`. Properties that aren\'t specified with `@encode` will be ignored for both serialization and deserialization. If an optional coder object is provided as the last argument, its `encode` and `decode` functions will be used by the model for serialization and deserialization, respectively.\n\nBy default, a model\'s primary key (the unchanging property which uniquely indexes its instances) is its `id` property. If you want your model to have a different primary key, specify the name of the key on the `primaryKey` class property:\n\n```coffeescript\nclass User extends Batman.Model\n  @primaryKey: \'handle\'\n  @encode \'handle\', \'email\'\n```\n\n#### States\n\n* `empty`: a new model instance remains in this state until some persisted attribute is set on it.\n* `loading`: entered when the model instance\'s `load()` method is called.\n* `loaded`: entered after the model\'s storage adapter has completed loading updated attributes for the instance. Immediately transitions to the `clean` state.\n* `dirty`: entered when one of the model\'s persisted attributes changes.\n* `validating`: entered when the validation process has started.\n* `validated`: entered when the validation process has completed. Immediately after entering this state, the model instance transitions back to either the `dirty` or `clean` state.\n* `saving`: entered when the storage adapter has begun saving the model.\n* `saved`: entered after the model\'s storage adapter has completed saving the model. Immediately transitions to the `clean` state.\n* `clean`: indicates that none of an instance\'s attributes have been changed since the model was `saved` or `loaded`.\n* `destroying`: entered when the model instance\'s `destroy()` method is called.\n* `destroyed`: indicates that the storage adapter has completed destroying this instance.\n\n#### Validation\n\nBefore models are saved to persistent storage, they run through any validations you\'ve defined and the save is cancelled if any errors were added to the model during that process.\n\nValidations are defined with the `@validate` macro by passing it the properties to be validated and an options object representing the particular validations to perform:\n\n```coffeescript\nclass User extends Batman.Model\n  @encode \'login\', \'password\'\n  @validate \'login\', presence: yes, maxLength: 16\n  @validate \'password\', \'passwordConfirmation\', presence: yes, lengthWithin: [6,255]\n```\n\nThe options get their meaning from subclasses of `Batman.Validator` which have been registered by adding them to the `Batman.Validators` array. For example, the `maxLength` and `lengthWithin` options are used by `Batman.LengthValidator`.\n\n\n#### Persistence\n\nTo specify a storage adapter for persisting a model, use the `@persist` macro in its class definition:\n\n```coffeescript\nclass Product extends Batman.Model\n  @persist Batman.LocalStorage\n```\n\nNow when you call `save()` or `load()` on a product, it will use the browser window\'s [localStorage](https://developer.mozilla.org/en/dom/storage) to retrieve or store the serialized data.\n\nIf you have a REST backend you want to connect to, `Batman.RestStorage` is a simple storage adapter which can be subclassed and extended to suit your needs. By default, it will assume your CamelCased-singular `Product` model is accessible at the underscored-pluralized "/products" path, with instances of the resource accessible at `/products/:id`. You can override these path defaults by assigning either a string or a function-returning-a-string to the `url` property of your model class (for the collection path) or to the prototype (for the member path). For example:\n\n```coffeescript\nclass Product extends Batman.Model\n  @persist Batman.RestStorage\n  @url = "/admin/products"\n  url: -> "/admin/products/#{@get(\'id\')}"\n```\n\n#### Associations\n\nBatman models support `belongsTo`, `hasOne`, and `hasMany` associations. Here\'s a simple example:\n\n```coffeescript\nclass App.Store extends Batman.Model\n  @hasMany \'products\', options\n\nclass App.Product extends Batman.Model\n  @belongsTo \'store\', options\n```\n\nThe following options are available:\n\n*  _namespace_: Tells Batman to look for the associated model under the provided namespace. (Defaults to `Batman.currentApp`.)\n*  _name_: Tells Batman to use the given model name instead. (Defaults to an interpretation of the association\'s label.)\n*  _saveInline_: Tells Batman whether to encode associations as inline JSON when the base model is saved. (Defaults to `false` for `belongsTo`, and `true` for `hasOne` and `hasMany`.)\n*  _autoload_: Tells Batman whether to make a request to the server the first time the association is `get`ted. Defaults to true.\n\nAssociations can be loaded via foreign keys or inline JSON:\n\n```coffeescript\nlocalStorage =\n  stores1:\n    id: 1\n    name: "JSON Store"\n    product: {id: 1, store_id: 1, name: "JSON Product"}\n\n  stores2:\n    id: 2\n    name: "Foreign Key Store"\n  products3:\n    id: 3\n    store_id: 2\n    name: "Foreign Key Product Product"\n```\n\nAssociation saving is done inline:\n\n```coffeescript\nstore = new Store name: "Angry Birds"\nproduct1 = new Product name: "Foo"\nproduct2 = new Product name: "Bar"\n\nstore.set \'products\', new Batman.Set(product1, product2)\nstore.save (error, record) ->\n  throw error if error\n  console.log localStorage["stores#{record.get(\'id\')}"]\n  # => {\n  #   id: ...\n  #   name: "Angry Birds"\n  #   products: [{name: "Foo", store_id: ...}, {name: "Bar", store_id: ...}]\n  # }\n```\n\n(Notice that the products did not receive IDs. This is because association saving is non-cascading, meaning that each model needs to be saved individually to fully persist. You can always call `toJSON` on a model instance to see what will be stored.)\n\nAssociations also support reloading and loaded introspection:\n\n```coffeescript\nstore = new Store name: "Angry Birds"\nstore.get(\'products.loaded\') #=> false\nstore.get(\'products\').load (err, products) ->\n  throw err if err\n  store.get(\'products.loaded\') #=> true\n```\n\nAssociations can be rendered via keypaths, using the same labels you use to create the association:\n\n```html\n<div data-foreach-product="store.products" data-bind="product.name"></div>\n```\n\n# Contributing\n\n[![Build Status](https://secure.travis-ci.org/Shopify/batman.png)](http://travis-ci.org/Shopify/batman)\n\nWell-tested contributions are always welcome! Here\'s what you should do:\n\n#### 1. Clone the repo\n\n```bash\ngit clone https://github.com/Shopify/batman.git\n```\n\n#### 2. Run the tests\n\nYou can test batman.js locally either on the command line or in the browser and both should work. Tests are written in CoffeeScript using [QUnit](http://docs.jquery.com/QUnit#API_documentation).\n\nTo run on the command line, run the following command from the project root:\n\n```bash\ncake test\n```\n\nTo run in the browser, start a web server to serve up the tests:\n\n```bash\ncoffee tests/serve.coffee\n```\n\n...then visit `http://localhost:1047/tests/batman/test.html`.\n\n#### 3. Write some test-driven code\n\nThe tests are in `tests/batman`. All test files in there are automatically included into the browser.\n\n#### 4. Update the documentation\n\nThe docs are rendered using [percolate](https://github.com/hornairs/percolate) and require that [pygments](http://pygments.org/) is already installed.\n\nPygments is a Python library, and can be installed using `easy_install`.\n\n```bash\nsudo easy_install Pygments\n```\n\nTo render the docs, run the following command from the project root:\n\n```bash\ncake doc\n```\n\n#### 5. Create a pull request\n\nIf it\'s good code that fits with the goals of the project, we\'ll merge it in!\n\n# License\n\nbatman.js is copyright 2012 by [Shopify](http://www.shopify.com), released under the MIT License (see LICENSE for details).\n',
35 silly resolved     readmeFilename: 'README.md',
35 silly resolved     _id: 'batman@0.14.1',
35 silly resolved     _from: 'batman' } ]
36 info install batman@0.14.1 into /usr/local/lib
37 info installOne batman@0.14.1
38 verbose from cache /home/hevok/.npm/batman/0.14.1/package/package.json
39 info /usr/local/lib/node_modules/batman unbuild
40 verbose read json /usr/local/lib/node_modules/batman/package.json
41 info preuninstall batman@0.14.1
42 info uninstall batman@0.14.1
43 verbose true,/usr/local/lib/node_modules,/usr/local/lib/node_modules unbuild batman@0.14.1
44 verbose /usr/local/bin,[object Object] binRoot
45 info /usr/local/lib/node_modules/batman unbuild
46 verbose read json /usr/local/lib/node_modules/batman/package.json
47 info preuninstall batman@0.14.1
48 info uninstall batman@0.14.1
49 verbose true,/usr/local/lib/node_modules,/usr/local/lib/node_modules unbuild batman@0.14.1
50 verbose /usr/local/bin,[object Object] binRoot
51 error error rolling back Error: EACCES, unlink '/usr/local/bin/batman'
51 error error rolling back  batman@0.14.1 { [Error: EACCES, unlink '/usr/local/bin/batman'] errno: 3, code: 'EACCES', path: '/usr/local/bin/batman' }
52 error Error: EACCES, unlink '/usr/local/bin/batman'
52 error  { [Error: EACCES, unlink '/usr/local/bin/batman'] errno: 3, code: 'EACCES', path: '/usr/local/bin/batman' }
53 error Please try running this command again as root/Administrator.
54 error System Linux 3.5.0-28-generic
55 error command "/usr/local/bin/node" "/usr/local/bin/npm" "install" "-g" "batman"
56 error cwd /home/hevok/denigma/denigma/media/semantic
57 error node -v v0.8.16
58 error npm -v 1.1.69
59 error path /usr/local/bin/batman
60 error code EACCES
61 error errno 3
62 error stack Error: EACCES, unlink '/usr/local/bin/batman'
63 verbose exit [ 3, true ]
